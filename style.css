/* =======================================================================
   STYLE.CSS — Dark, modern, yüksek okunabilirlik ve performans
   =======================================================================
   - CSS değişkenleri: tema, animasyon süreleri, ölçüler
   - Sticky topbar, responsive container, utilities
   - Masonry benzeri grid: auto-rows + JS ile row-span (CLS düşük)
   - Lightbox (overlay) + dialog + butonlar + erişilebilir odak stilleri
   - Hover efektleri ve yumuşak geçişler
   - Mobil ergonomi: büyük dokunmatik hedefler, güvenli alanlar
======================================================================= */

:root{
  /* Renk paleti (dark) */
  --bg: #0b0f14;
  --bg-elev: #111827;
  --bg-soft: #0f172a;
  --card: #131c2b;
  --line: rgba(255,255,255,.08);
  --fg: #e5e7eb;
  --fg-dim: #a8b2c1;
  --accent: #60a5fa;
  --accent-2: #34d399;
  --warn: #f59e0b;

  /* Ölçüler & radius */
  --container: 1280px;
  --radius: 16px;
  --radius-lg: 20px;
  --shadow: 0 10px 40px rgba(0,0,0,.45);

  /* Hareket/animasyon */
  --fast: 140ms;
  --medium: 260ms;
  --slow: 420ms;

  /* Grid özel: satır yüksekliği birimi (masonry) */
  --grid-row: 6px; /* küçük değer → hassas yükseklik */
}

/* Light tema (btnTheme ile tetiklenir) */
body.theme-light{
  --bg: #f7fafc;
  --bg-elev: #ffffff;
  --bg-soft: #f5f7fb;
  --card: #ffffff;
  --line: rgba(0,0,0,.08);
  --fg: #111827;
  --fg-dim: #374151;
  --accent: #2563eb;
  --accent-2: #059669;
  --shadow: 0 10px 40px rgba(0,0,0,.1);
}

/* Reset minimal */
*{ box-sizing: border-box }
html,body{ height:100% }
html{ -webkit-text-size-adjust:100% }
body{
  margin:0; background:var(--bg); color:var(--fg);
  font: 16px/1.55 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/* Yardımcı sınıflar */
.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0 }
.only-mobile{ display:none }
.only-desktop{ display:inline }
@media (max-width:640px){
  .only-mobile{ display:inline }
  .only-desktop{ display:none }
}

/* Topbar */
.topbar{
  position: sticky; top:0; z-index: 10;
  background: linear-gradient(180deg, rgba(10,12,20,.9), rgba(10,12,20,.7) 60%, transparent);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid var(--line);
}
.topbar__inner{
  max-width: var(--container);
  margin: 0 auto;
  padding: .8rem 1rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .75rem;
}
.brand{ display:flex; align-items:center; gap:.6rem; margin:0; font-weight:700; letter-spacing:.2px }
.brand__emoji{ font-size: 1.25rem }
.brand__text{ font-size: clamp(1.05rem, 1.6vw, 1.25rem) }

/* Buttons & chips */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  height: 36px; padding: 0 12px;
  border-radius: 10px; border:1px solid var(--line);
  background: var(--bg-elev); color: var(--fg);
  cursor:pointer; transition: background var(--fast) ease, transform var(--fast) ease, border-color var(--fast) ease;
  box-shadow: none;
}
.btn:hover{ background: #0f1522; }
.btn:active{ transform: translateY(1px) scale(.99); }
.btn.primary{ background: var(--accent); color:#fff; border-color: transparent; }
.btn.ghost{ background: transparent }
.btn:focus-visible{ outline: 2px solid var(--accent); outline-offset: 2px; }

.chip{
  display:inline-flex; align-items:center; gap:.5rem;
  padding: 6px 12px; border-radius: 999px;
  background: var(--bg-elev); color: var(--fg); border:1px solid var(--line);
  cursor:pointer; transition: background var(--fast) ease, transform var(--fast) ease;
}
.chip.is-active{ background: var(--accent); color:#fff; border-color: transparent }
.chip:focus-visible{ outline:2px solid var(--accent); outline-offset: 2px }
.chip:active{ transform: translateY(1px) }

/* Container & section */
.container{
  max-width: var(--container);
  margin-inline: auto;
  padding: clamp(10px, 2vw, 22px);
}
.section{ display:block }

/* Toolbar */
.toolbar{
  display:flex; align-items:center; justify-content:space-between; gap: 12px;
  padding: 8px 4px 14px;
}
.filters{ display:flex; align-items:center; gap: 8px; flex-wrap: wrap }
.search{ min-width: 220px; margin-left:auto }
.search input{
  width: 100%; height: 38px; border-radius: 10px; border:1px solid var(--line);
  background: var(--bg-elev); color: var(--fg);
  padding: 0 12px; transition: border-color var(--fast) ease, background var(--fast) ease;
}
.search input::placeholder{ color: var(--fg-dim) }
.search input:focus{ outline: none; border-color: var(--accent) }

/* ===========================================================
   Grid (masonry benzeri): auto-rows + JS row-span hesaplama
   =========================================================== */
.grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  grid-auto-rows: var(--grid-row);
  gap: 10px;
}
.card{
  position:relative; display:block; overflow:hidden;
  border-radius: var(--radius); background: var(--card);
  border: 1px solid var(--line); box-shadow: var(--shadow);
  transform: translateZ(0); /* GPU hint */
  will-change: transform, filter, opacity;
}
.card__media{
  display:block; width:100%; height:auto; background:#000;
  object-fit:cover; object-position:center center;
  transition: transform var(--medium) ease, filter var(--medium) ease, opacity var(--medium) ease;
  opacity: .99;
}
/* hover/focus */
@media (hover:hover){
  .card:hover .card__media{ transform: scale(1.02); filter: brightness(.92) saturate(1.04); }
}
.card:focus-visible{ outline:2px solid var(--accent); outline-offset:2px }

/* Video rozet / süre etiketi (opsiyonel) */
.card__badge{
  position:absolute; inset:auto auto 10px 10px;
  background: rgba(0,0,0,.55); color:#fff; font-size:.82rem;
  padding: 6px 10px; border-radius:999px; pointer-events:none;
  display:flex; align-items:center; gap:8px;
}
.card__badge::before{
  content:""; display:inline-block; width:0; height:0;
  border-left:10px solid #fff; border-top:6px solid transparent; border-bottom:6px solid transparent;
}

/* ===========================================================
   Lightbox
   =========================================================== */
.lightbox{
  position:fixed; inset:0; z-index: 50;
  display:grid; grid-template-rows: auto 1fr auto;
  background: rgba(8,10,16,.92);
  opacity:0; pointer-events:none; transition: opacity var(--slow) ease;
}
.lightbox:not(.is-hidden){ opacity:1; pointer-events:auto; }

.lb__chrome{
  padding: 12px; display:flex; align-items:center; justify-content:flex-end;
}
.iconbtn{
  width:44px; height:44px; display:grid; place-items:center;
  border-radius: 12px; background: rgba(15,18,28,.8); color:#fff;
  border:1px solid var(--line); cursor:pointer; transition: background var(--fast) ease, transform var(--fast) ease;
  backdrop-filter: blur(4px);
}
.iconbtn:hover{ background: rgba(15,18,28,.92) }
.iconbtn:active{ transform: translateY(1px) }
.iconbtn:focus-visible{ outline: 2px solid var(--accent); outline-offset: 2px }

.lb__stage{
  min-height: 0; /* Grid child overflow fix */
  display:grid; place-items:center; padding: 8px 12px;
}
.lb__stage img, .lb__stage video{
  max-width: min(96vw, 1600px);
  max-height: min(90vh, 900px);
  width:auto; height:auto; border-radius: calc(var(--radius) + 4px);
  background:#000; box-shadow: var(--shadow);
}
.lb__loader{
  width:64px; height:64px; border-radius:50%;
  border:4px solid rgba(255,255,255,.15);
  border-top-color: var(--accent);
  animation: spin 1s linear infinite;
}
@keyframes spin{ to{ transform: rotate(360deg);} }

.lb__nav{
  display:grid; grid-template-columns: 44px 1fr 44px; align-items:center;
  gap: 10px; padding: 8px 12px 14px;
}
.lb__title{ margin:0; text-align:center; font-size: .95rem; color: var(--fg-dim) }

.lb__meta{
  position: absolute; left:50%; bottom: 16px; transform: translateX(-50%);
  background: rgba(0,0,0,.45); color:#fff; padding: 6px 10px; border-radius: 10px;
  font-size: .82rem;
}

/* Fade-in anim */
.fade-in{ animation: fadeIn var(--medium) ease both }
@keyframes fadeIn{ from{ opacity:0; transform: scale(.985);} to{ opacity:1; transform: scale(1);} }

/* ===========================================================
   Dialog (Hakkında)
   =========================================================== */
.dialog{
  position:fixed; inset:0; z-index:60; display:grid; place-items:center;
  background: rgba(0,0,0,.5); opacity:0; pointer-events:none; transition: opacity var(--medium) ease;
}
.dialog:not(.is-hidden){ opacity:1; pointer-events:auto; }
.dialog__card{
  width:min(620px, 92vw); background: var(--bg-elev); color: var(--fg); border-radius: var(--radius-lg);
  border:1px solid var(--line); box-shadow: var(--shadow); overflow:hidden;
}
.dialog__head{ display:flex; align-items:center; justify-content:space-between; padding: 12px 14px; border-bottom: 1px solid var(--line) }
.dialog__body{ padding: 14px; color: var(--fg-dim) }
.dialog__foot{ padding: 12px 14px; border-top: 1px solid var(--line); display:flex; justify-content:flex-end }

/* ===========================================================
   Odak/erişilebilirlik
   =========================================================== */
:focus-visible{ outline: 2px solid var(--accent); outline-offset: 2px }

/* ===========================================================
   Mobil optimizasyonları
   =========================================================== */
@media (max-width:640px){
  .toolbar{ flex-wrap: wrap }
  .search{ width:100%; order: 2 }
  .filters{ order: 1 }
  .iconbtn{ width:48px; height:48px }
}

/* ===========================================================
   Scroll davranışı ve seçici detaylar
   =========================================================== */
html{ scroll-behavior: smooth }
::selection{ background: rgba(96,165,250,.35) }
